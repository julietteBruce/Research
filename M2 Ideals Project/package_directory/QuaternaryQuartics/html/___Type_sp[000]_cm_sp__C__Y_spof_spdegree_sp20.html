<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0 plus SVG 1.1//EN" "http://www.w3.org/2002/04/xhtml-math-svg/xhtml-math-svg.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
  <head>
    <title>Type [000], CY of degree 20 -- lifting to a 3-fold with two singular points</title>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <link type="text/css" rel="stylesheet" href="../../../../Macaulay2/Style/doc.css"/>

    <link rel="stylesheet" href="../../../../Macaulay2/Style/katex/katex.min.css" />
    <script defer="defer" type="text/javascript" src="../../../../Macaulay2/Style/katex/katex.min.js"></script>
    <script defer="defer" type="text/javascript" src="../../../../Macaulay2/Style/katex/contrib/auto-render.min.js"></script>
    <script defer="defer" type="text/javascript">
      var macros = {
          "\\break": "\\\\",
          "\\ZZ": "\\mathbb{Z}",
          "\\NN": "\\mathbb{N}",
          "\\QQ": "\\mathbb{Q}",
          "\\RR": "\\mathbb{R}",
          "\\CC": "\\mathbb{C}",
          "\\PP": "\\mathbb{P}"
      }, delimiters = [
          { left: "$$",  right: "$$",  display: true},
          { left: "\\[", right: "\\]", display: true},
          { left: "$",   right: "$",   display: false},
          { left: "\\(", right: "\\)", display: false}
      ], ignoredTags = ["tt", "script", "noscript", "style", "textarea", "pre", "code", "option"];
      document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, { delimiters: delimiters, macros: macros, ignoredTags: ignoredTags, trust: true });
      });
    </script>
    <style type="text/css">.katex { font-size: 1em; }</style>
    <link href="../../../../Macaulay2/Style/katex/contrib/copy-tex.min.css" rel="stylesheet" type="text/css" />
    <script defer="defer" type="text/javascript" src="../../../../Macaulay2/Style/katex/contrib/copy-tex.min.js"></script>
    <script defer="defer" type="text/javascript" src="../../../../Macaulay2/Style/katex/contrib/render-a11y-string.min.js"></script>
    <script type="text/javascript" src="../../../../Macaulay2/Style/highlight.js"></script>
  </head>
  <body>
    <table class="buttons">
      <tr>
<td>          <div>
<a href="___Type_sp[210]_cm_sp__C__Y_spof_spdegree_sp18_spvia_splinkage.html">next</a> | <a href="_smaller__Betti__Tables.html">previous</a> | <a href="___Type_sp[210]_cm_sp__C__Y_spof_spdegree_sp18_spvia_splinkage.html">forward</a> | <a href="_smaller__Betti__Tables.html">backward</a> | up | <a href="index.html">top</a> | <a href="master.html">index</a> | <a href="toc.html">toc</a> | <a href="http://macaulay2.com/">Macaulay2 website</a>          </div>
</td>      </tr>
    </table>
    <div>
<a title="code to support the paper 'Quaternary Quartic Forms and Gorenstein Rings'" href="index.html">QuaternaryQuartics</a> :: <a title="lifting to a 3-fold with two singular points" href="___Type_sp[000]_cm_sp__C__Y_spof_spdegree_sp20.html">Type [000], CY of degree 20</a>    </div>
    <hr/>
    <div>
      <h1>Type [000], CY of degree 20 -- lifting to a 3-fold with two singular points</h1>
      <div>
        <div>
          <p>We construct a singular Calabi-Yau of dimension 3 with 2 nodes, of codimension 4, of degree 20.  This example cannot be smoothed.  However, there is the example of the determinantal ($3 \times 3$ minors of a $4 \times 4$ matrix of linear forms, which is a smooth Calabi-Yau 3-fold of degree 20.</p>
        </div>
        <table class="examples">
          <tr>
<td>              <pre><code class="language-macaulay2">i1 : kk = ZZ/31

o1 = kk

o1 : QuotientRing</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i2 : U = kk[y0,y1,y2,y3,y4,y5,y6,y7];</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i3 : setRandomSeed 8327432

o3 = 8327432</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i4 : U1 = vars U

o4 = | y0 y1 y2 y3 y4 y5 y6 y7 |

             1       8
o4 : Matrix U  &lt;--- U</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i5 : P6 = matrix{{y1,y2,y3,y4,y5,y6,y7}} -- The hyperplane y0 == 0

o5 = | y1 y2 y3 y4 y5 y6 y7 |

             1       7
o5 : Matrix U  &lt;--- U</code></pre>
</td>          </tr>
        </table>
        <div>
          <p>The original example code</p>
        </div>
        <table class="examples">
          <tr>
<td>              <pre><code class="language-macaulay2">i6 : F1 = P6 * random(kk^7,kk^5);

             1       5
o6 : Matrix U  &lt;--- U</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i7 : F2 = P6 * random(kk^7,kk^5);

             1       5
o7 : Matrix U  &lt;--- U</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i8 : F3 = P6 * random(kk^7,kk^5);

             1       5
o8 : Matrix U  &lt;--- U</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i9 : fg = transpose F1 | transpose F2 | transpose F3 ;

             5       3
o9 : Matrix U  &lt;--- U</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i10 : ff = matrix{{y0,0,0,0,0},{0,0,0,0,0},{0,0,0,0,0}};

              3       5
o10 : Matrix U  &lt;--- U</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i11 : fg = transpose fg + ff;    --3x5 matrix of rank 1 at (1:0:..:0), of rank 2 on fourfold Y

              3       5
o11 : Matrix U  &lt;--- U</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i12 : Y = fg3 = minors(3,fg);

o12 : Ideal of U</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i13 : fg2 = minors(2,fg);

o13 : Ideal of U</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i14 : codim fg3

o14 = 3</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i15 : codim fg2, degree fg2

o15 = (7, 1)

o15 : Sequence</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i16 : saturate fg2

o16 = ideal (y7, y6, y5, y4, y3, y2, y1)

o16 : Ideal of U</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i17 : sf1 = fg^{0,1}

o17 = | y0+12y1+3y2+7y3+4y4+13y5+5y6-y7 -13y1+3y2-9y3-3y4-y5+2y6-2y7  
      | 9y1-7y2-13y3-15y4-2y5+8y6+15y7  -9y1-8y2+14y3-3y4-5y5+4y6+15y7
      -----------------------------------------------------------------------
      7y1+5y3-y4-6y5+5y6-6y7       -7y1-3y2+3y3-11y4-3y5-y6-5y7   
      7y1+9y2-5y3-2y4+6y5+15y6+6y7 14y1+12y2+5y3-6y4+15y5+13y6+4y7
      -----------------------------------------------------------------------
      9y1+4y2-5y3+3y4+4y5-14y6-13y7    |
      -4y1+8y2+12y3+14y4-13y5+3y6-10y7 |

              2       5
o17 : Matrix U  &lt;--- U</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i18 : sf2 = fg^{0,2}

o18 = | y0+12y1+3y2+7y3+4y4+13y5+5y6-y7 -13y1+3y2-9y3-3y4-y5+2y6-2y7
      | -6y1-7y2+14y3-7y4-9y5+2y6+9y7   9y1+9y2-2y3+12y4+7y5-2y6    
      -----------------------------------------------------------------------
      7y1+5y3-y4-6y5+5y6-6y7        -7y1-3y2+3y3-11y4-3y5-y6-5y7  
      -7y1+8y2+12y3+6y4-15y5+5y6-y7 8y1-10y2+5y3-11y4+9y5-11y6+3y7
      -----------------------------------------------------------------------
      9y1+4y2-5y3+3y4+4y5-14y6-13y7  |
      -5y1-15y2-8y3-4y4+5y5-12y6+3y7 |

              2       5
o18 : Matrix U  &lt;--- U</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i19 : Z1 = sf12 = minors(2,sf1);--threefold rational scroll of degree 5 in Y

o19 : Ideal of U</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i20 : Z2 = sf22 = minors(2,sf2);--threefold rational scroll of degree 5 in Y

o20 : Ideal of U</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i21 : sf = trim intersect(Z1, Z2);-- threefold rational scroll over reducible conic of degree 10 in Y

o21 : Ideal of U</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i22 : (dim Z1, degree Z1)

o22 = (4, 5)

o22 : Sequence</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i23 : betti sf  --in 11 cubics, so sf is in a cubic hypersurface section of Y

             0  1
o23 = total: 1 54
          0: 1  .
          1: .  .
          2: . 11
          3: . 43

o23 : BettiTally</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i24 : k3 = ideal select(sf_*, f -> degree f == {3}); -- the cubics in the ideal

o24 : Ideal of U</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i25 : k3=submatrix(gens sf,{0,1,2,3,4,5,6,7,8,9,10});  --the cubics in the ideal of sf

              1       11
o25 : Matrix U  &lt;--- U</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i26 : k3=ideal flatten k3;

o26 : Ideal of U</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i27 : X = cy = (k3:Z1):Z2; --the CY threefold, residual to sf in a cubic hypersurface section

o27 : Ideal of U</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i28 : betti X

             0  1
o28 = total: 1 16
          0: 1  .
          1: .  .
          2: . 16

o28 : BettiTally</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i29 : betti res X

             0  1  2  3 4
o29 = total: 1 16 30 16 1
          0: 1  .  .  . .
          1: .  .  .  . .
          2: . 16 30 16 .
          3: .  .  .  . .
          4: .  .  .  . 1

o29 : BettiTally</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i30 : (dim X, degree X)

o30 = (4, 20)

o30 : Sequence</code></pre>
</td>          </tr>
        </table>
        <div>
          <p>Now we analyze the singularities of this Calabi-Yau. First, note that $X$ is singular at the point$(1, 0, \ldots, 0)$.</p>
        </div>
        <table class="examples">
          <tr>
<td>              <pre><code class="language-macaulay2">i31 : J = jacobian X;

              8       16
o31 : Matrix U  &lt;--- U</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i32 : minors(4, sub(J, matrix{{1_kk,0,0,0,0,0,0,0}})) == 0

o32 = true</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i33 : sub(X, matrix{{1_kk,0,0,0,0,0,0,0}})

o33 = ideal (0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)

o33 : Ideal of kk</code></pre>
</td>          </tr>
        </table>
        <div>
          <p>Now we find other singular points.  We would like to just compute the singular locus as the $4 \time 4$ minors of the $8 \times 16$ Jacobian matrix, which is $127,400$ determinants, but this is pretty large.</p>
          <p>We find that there is exactly one more singular point, and that it is of multiplicity 2.</p>
        </div>
        <table class="examples">
          <tr>
<td>              <pre><code class="language-macaulay2">
needsPackage &quot;FastMinors&quot; -- &quot;FastLinAlg&quot; in versions of M2 before 1.19
setRandomSeed 500
elapsedTime chooseGoodMinors(200, 4, J);
J1 = cy + oo;
elapsedTime gbJ1 = groebnerBasis(J1, Strategy => &quot;F4&quot;);
inJ1 = monomialIdeal leadTerm gbJ1;
codim inJ1 == 7 -- so singular locus is finite
degree inJ1 == 2
(L1, d) = divideByVariable(gbJ1, U_7);
L1 = ideal L1;
pt2 = trim L1</code></pre>
</td>          </tr>
        </table>
        <div>
          <p>This implies that the singular locus is a finite set of points, and is at most 2 points, and we know one of the points, and the other pointis off of the hyperplane $x_7 = 0$.</p>
          <p>However, we must check that this point is singular on $X$, as our ideal is only a subset of the ideal of the singular locus.</p>
        </div>
        <table class="examples">
          <tr>
<td>              <pre><code class="language-macaulay2">
isSubset(cy, pt2)
minors(4, J % pt2) == 0</code></pre>
</td>          </tr>
        </table>
        <div>
          <p>We now know that the singular locus consists of these 2 points, as the degree of $J_1$ is 2, so there can be no other components of dimension 0.</p>
        </div>
      </div>
      <div>
        <h2>See also</h2>
        <ul>
          <li>
<span><a title="Quaternary Quartic Forms and Gorenstein rings (Kapustka, Kapustka, Ranestad, Schenck, Stillman, Yuan, 2021)" href="_[__Q__Q].html">[QQ]</a> -- Quaternary Quartic Forms and Gorenstein rings (Kapustka, Kapustka, Ranestad, Schenck, Stillman, Yuan, 2021)</span>          </li>
        </ul>
      </div>
    </div>
  </body>

</html>
