<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0 plus SVG 1.1//EN" "http://www.w3.org/2002/04/xhtml-math-svg/xhtml-math-svg.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
  <head>
    <title>versalDeformation(Matrix) -- computes a power series representation of a versal deformation</title>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <link type="text/css" rel="stylesheet" href="../../../../Macaulay2/Style/doc.css"/>

    <link rel="stylesheet" href="../../../../Macaulay2/Style/katex/katex.min.css" />
    <script defer="defer" type="text/javascript" src="../../../../Macaulay2/Style/katex/katex.min.js"></script>
    <script defer="defer" type="text/javascript" src="../../../../Macaulay2/Style/katex/contrib/auto-render.min.js"></script>
    <script defer="defer" type="text/javascript">
      var macros = {
          "\\break": "\\\\",
          "\\ZZ": "\\mathbb{Z}",
          "\\NN": "\\mathbb{N}",
          "\\QQ": "\\mathbb{Q}",
          "\\RR": "\\mathbb{R}",
          "\\CC": "\\mathbb{C}",
          "\\PP": "\\mathbb{P}"
      }, delimiters = [
          { left: "$$",  right: "$$",  display: true},
          { left: "\\[", right: "\\]", display: true},
          { left: "$",   right: "$",   display: false},
          { left: "\\(", right: "\\)", display: false}
      ], ignoredTags = ["tt", "script", "noscript", "style", "textarea", "pre", "code", "option"];
      document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, { delimiters: delimiters, macros: macros, ignoredTags: ignoredTags, trust: true });
      });
    </script>
    <style type="text/css">.katex { font-size: 1em; }</style>
    <link href="../../../../Macaulay2/Style/katex/contrib/copy-tex.min.css" rel="stylesheet" type="text/css" />
    <script defer="defer" type="text/javascript" src="../../../../Macaulay2/Style/katex/contrib/copy-tex.min.js"></script>
    <script defer="defer" type="text/javascript" src="../../../../Macaulay2/Style/katex/contrib/render-a11y-string.min.js"></script>
    <script type="text/javascript" src="../../../../Macaulay2/Style/highlight.js"></script>
  </head>
  <body>
    <table class="buttons">
      <tr>
<td>          <div>
<a href="_versal__Deformation_lp__Matrix_cm__Matrix_cm__Matrix_rp.html">next</a> | <a href="_versal__Deformation_lp__List_cm__List_cm__List_cm__List_rp.html">previous</a> | <a href="_versal__Deformation_lp__Matrix_cm__Matrix_cm__Matrix_rp.html">forward</a> | <a href="_versal__Deformation_lp__List_cm__List_cm__List_cm__List_rp.html">backward</a> | up | <a href="index.html">top</a> | <a href="master.html">index</a> | <a href="toc.html">toc</a> | <a href="http://macaulay2.com/">Macaulay2 website</a>          </div>
</td>      </tr>
    </table>
    <div>
<a title="calculating versal deformations and local Hilbert schemes" href="index.html">VersalDeformations</a> :: <a title="computes a power series representation of a versal deformation" href="_versal__Deformation_lp__Matrix_rp.html">versalDeformation(Matrix)</a>    </div>
    <hr/>
    <div>
      <h1>versalDeformation(Matrix) -- computes a power series representation of a versal deformation</h1>
      <div>
        <h2>Synopsis</h2>
        <ul>
          <li>
<span>Function: <a title="computes a power series representation of a versal deformation" href="_versal__Deformation.html">versalDeformation</a></span>          </li>
          <li>
            <dl class="element">
              <dt>Usage: </dt>
              <dd><code class="language-macaulay2">(F,R,G,C) = versalDeformation(F0)</code></dd>
            </dl>
          </li>
          <li>
Inputs:            <ul>
              <li>
<span><tt>F0</tt>, <span>a <a title="the class of all matrices" href="../../Macaulay2Doc/html/___Matrix.html">matrix</a></span></span>              </li>
            </ul>
          </li>
          <li>
<a href="../../Macaulay2Doc/html/_using_spfunctions_spwith_spoptional_spinputs.html">Optional inputs</a>:            <ul>
              <li>
<span><tt>CacheName</tt><tt> => </tt><tt>...</tt>, <span>default value null</span></span>              </li>
              <li>
<span><tt>CorrectionMatrix</tt><tt> => </tt><tt>...</tt>, <span>default value &quot;auto&quot;</span></span>              </li>
              <li>
<span><tt>DefParam</tt><tt> => </tt><tt>...</tt>, <span>default value &quot;t&quot;</span></span>              </li>
              <li>
<span><a title="determines the degree limit used to compute the tangent cone of obstruction equations" href="___Degree__Bound.html">DegreeBound</a><tt> => </tt><tt>...</tt>, <span>default value 0</span>, determines the degree limit used to compute the tangent cone of obstruction equations</span>              </li>
              <li>
<span><tt>HighestOrder</tt><tt> => </tt><tt>...</tt>, <span>default value 20</span></span>              </li>
              <li>
<span><tt>PolynomialCheck</tt><tt> => </tt><tt>...</tt>, <span>default value true</span></span>              </li>
              <li>
<span><tt>SanityCheck</tt><tt> => </tt><tt>...</tt>, <span>default value true</span></span>              </li>
              <li>
<span><tt>SmartLift</tt><tt> => </tt><tt>...</tt>, <span>default value true</span></span>              </li>
              <li>
<span><a title="control the verbosity of output" href="_lift__Deformation_lp..._cm__Verbose_eq_gt..._rp.html">Verbose</a><tt> => </tt><tt>...</tt>, <span>default value 0</span>, control the verbosity of output</span>              </li>
            </ul>
          </li>
          <li>
Outputs:            <ul>
              <li>
<span><tt>F</tt>, <span>a <a title="the class of all lists -- {...}" href="../../Macaulay2Doc/html/___List.html">list</a></span> of matrices</span>              </li>
              <li>
<span><tt>R</tt>, <span>a <a title="the class of all lists -- {...}" href="../../Macaulay2Doc/html/___List.html">list</a></span> of matrices</span>              </li>
              <li>
<span><tt>G</tt>, <span>a <a title="the class of all lists -- {...}" href="../../Macaulay2Doc/html/___List.html">list</a></span> of matrices</span>              </li>
              <li>
<span><tt>C</tt>, <span>a <a title="the class of all lists -- {...}" href="../../Macaulay2Doc/html/___List.html">list</a></span> of matrices</span>              </li>
            </ul>
          </li>
        </ul>
      </div>
      <div>
        <h2>Description</h2>
        <p>Each element of the sequence <tt>(F,R,G,C)</tt> is a list of matrices in increasing powers of the deformation parameter specified by <a title="deformation parameter" href="___Def__Param.html">DefParam</a>. Their sums satisfy the deformation equation <tt>transpose flatten ((sum F)*(sum R))+(sum C)*(sum G)==0</tt> up to powers of the deformation parameter equal to the length of <tt>F</tt>. Furthermore, <tt>F_0=F0</tt> and <tt>R_0=gens ker F0</tt>. The columns of <tt>C_0</tt> are multiples of the those of <a title="calculate second cotangent cohomology" href="_cotangent__Cohomology2.html">cotangentCohomology2</a><tt>(F0)</tt> if <tt>F0</tt> has a single row, and <a title="calculate obstruction space for modules" href="_ext__Matrix.html">extMatrix</a><tt>(F0)</tt> otherwise. <tt>F_1</tt> consists of first order perturbations corresponding to the basis of <a title="calculate first cotangent cohomology" href="_cotangent__Cohomology1.html">cotangentCohomology1</a><tt>(F0)</tt>. Thus, <tt>F</tt> and <tt>G</tt> represent a versal family and equations for a versal base space, either for the scheme cut out by the columns of <tt>F0</tt> (when <tt>F0</tt> has a single row), or the module <tt>coker F0</tt>.</p>
        <p>Several options are available to control the termination of the calculation. The calculation will terminate at the very latest after reaching order equal to the option <a title="sets the order to which we compute" href="___Highest__Order.html">HighestOrder</a>, which has default value <tt>20</tt>. If this order is reached, a warning message is generated. If <a title="checks if power series solution terminates" href="___Polynomial__Check.html">PolynomialCheck</a> is set to <a href="../../Macaulay2Doc/html/_true.html">true</a>, as is the default, then the algorithm will check if the present solution lifts to infinite order and terminate if this is the case. If <a title="checks if lifting solves deformation equation" href="___Sanity__Check.html">SanityCheck</a> is set to <a href="../../Macaulay2Doc/html/_true.html">true</a>, as is the default, then the algorithm will check that the present solution really does solve the deformation equation, and terminate with an error if this is not the case.</p>
        <p>The option <a title="request verbose feedback" href="../../Macaulay2Doc/html/___Verbose.html">Verbose</a> may be used to control the verbosity of the output. Its value should be an integer, with higher values corresponding to more verbose output. Default value is <tt>0</tt>.</p>
        <p>The option <a title="chooses lifting to avoid obstructions at next order" href="___Smart__Lift.html">SmartLift</a> is also available, which controls whether the algorithm spends extra time trying to find liftings which introduce no new obstructions at the next highest order. By default, this option is enabled. The option <a title="determines the first order deformations used in correcting liftings" href="___Correction__Matrix.html">CorrectionMatrix</a> may be used to control which liftings are considered.</p>
        <p>After each step of lifting, the solution <tt>(F,R,G,C)</tt> to the deformation equation is cached. By default, it is stored in <tt>F0.cache#VersalDeformationResults</tt> but may stored elsewhere by setting the option <a title="determines hash table in which to cache solutions to the deformation equation" href="___Cache__Name.html">CacheName</a> to something other than <a title="the unique member of the empty class" href="../../Macaulay2Doc/html/_null.html">null</a>.</p>
        <p>For example, consider the cone over the rational normal curve of degree four, see <a title="calculating versal deformations and local Hilbert schemes" href="index.html">[Pi74]</a>:</p>
        <table class="examples">
          <tr>
<td>              <pre><code class="language-macaulay2">i1 : S=QQ[x_0..x_4];</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i2 : I=minors(2,matrix {{x_0,x_1,x_2,x_3},{x_1,x_2,x_3,x_4}});

o2 : Ideal of S</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i3 : F0=gens I

o3 = | -x_1^2+x_0x_2 -x_1x_2+x_0x_3 -x_2^2+x_1x_3 -x_1x_3+x_0x_4
     ------------------------------------------------------------------------
     -x_2x_3+x_1x_4 -x_3^2+x_2x_4 |

             1       6
o3 : Matrix S  &lt;--- S</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i4 : (F,R,G,C)=versalDeformation(F0,Verbose=>2);
Calculating first order deformations and obstruction space
Calculating first order relations
Calculating standard expressions for obstructions
Starting lifting
Order 2
Order 3
Solution is polynomial</code></pre>
</td>          </tr>
        </table>
        <p>Equations for a versal base space are</p>
        <table class="examples">
          <tr>
<td>              <pre><code class="language-macaulay2">i5 : T=ring first G;</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i6 : sum G

o6 = | t_2t_3-t_3^2 |
     | -t_1t_3      |
     | t_3t_4       |

             3       1
o6 : Matrix T  &lt;--- T</code></pre>
</td>          </tr>
        </table>
        <p>The versal family is given by</p>
        <table class="examples">
          <tr>
<td>              <pre><code class="language-macaulay2">i7 : sum F

o7 = | x_1t_1+x_0t_2-x_1^2+x_0x_2 -t_1t_3+x_0t_4-x_1x_2+x_0x_3
     ------------------------------------------------------------------------
     -t_2t_3+t_3^2-t_1t_4-x_3t_1-x_2t_2+x_1t_4-x_2^2+x_1x_3
     ------------------------------------------------------------------------
     t_2t_3-t_3^2+x_2t_3-x_1x_3+x_0x_4 -x_4t_1-x_3t_2+x_3t_3-x_2x_3+x_1x_4
     ------------------------------------------------------------------------
     x_4t_3-x_3t_4-x_3^2+x_2x_4 |

             1       6
o7 : Matrix T  &lt;--- T</code></pre>
</td>          </tr>
        </table>
        <p>We may also consider the example of the cone over the del Pezzo surface of degree six, see <a title="calculating versal deformations and local Hilbert schemes" href="index.html">[Al97]</a>:</p>
        <table class="examples">
          <tr>
<td>              <pre><code class="language-macaulay2">i8 : S=QQ[x1,x2,x3,x4,x5,x6,z];</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i9 : I=ideal {x1*x4-z^2,x2*x5-z^2,x3*x6-z^2,x1*x3-z*x2,x2*x4-z*x3,x3*x5-z*x4,x4*x6-z*x5,x5*x1-z*x6,x6*x2-z*x1};

o9 : Ideal of S</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i10 : F0=gens I;

              1       9
o10 : Matrix S  &lt;--- S</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i11 : (F,R,G,C)=versalDeformation(F0,Verbose=>2);
Calculating first order deformations and obstruction space
Calculating first order relations
Calculating standard expressions for obstructions
Starting lifting
Order 2
Order 3
Solution is polynomial</code></pre>
</td>          </tr>
        </table>
        <p>Equations for a versal base space are</p>
        <table class="examples">
          <tr>
<td>              <pre><code class="language-macaulay2">i12 : T=ring first G;</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i13 : sum G

o13 = | t_2t_3       |
      | t_1t_3-t_3^2 |

              2       1
o13 : Matrix T  &lt;--- T</code></pre>
</td>          </tr>
        </table>
        <p>The versal family is given by</p>
        <table class="examples">
          <tr>
<td>              <pre><code class="language-macaulay2">i14 : sum F

o14 = | -t_1t_2+zt_1+zt_2+x1x4-z2 zt_2+zt_3+x2x5-z2 zt_1+x3x6-z2
      -----------------------------------------------------------------------
      x2t_1+x1x3-x2z x3t_2+x2x4-x3z x4t_3+x3x5-x4z x5t_1-x5t_3+x4x6-x5z
      -----------------------------------------------------------------------
      x6t_2+x6t_3+x1x5-x6z x2x6-x1z |

              1       9
o14 : Matrix T  &lt;--- T</code></pre>
</td>          </tr>
        </table>
      </div>
      <div class="waystouse">
        <h2>Ways to use this method:</h2>
        <ul>
          <li>
<span><a title="computes a power series representation of a versal deformation" href="_versal__Deformation_lp__Matrix_rp.html">versalDeformation(Matrix)</a> -- computes a power series representation of a versal deformation</span>          </li>
        </ul>
      </div>
    </div>
  </body>

</html>
