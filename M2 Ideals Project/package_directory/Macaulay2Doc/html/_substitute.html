<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0 plus SVG 1.1//EN" "http://www.w3.org/2002/04/xhtml-math-svg/xhtml-math-svg.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
  <head>
    <title>substitute -- substituting values for variables</title>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <link type="text/css" rel="stylesheet" href="../../../../Macaulay2/Style/doc.css"/>

    <link rel="stylesheet" href="../../../../Macaulay2/Style/katex/katex.min.css" />
    <script defer="defer" type="text/javascript" src="../../../../Macaulay2/Style/katex/katex.min.js"></script>
    <script defer="defer" type="text/javascript" src="../../../../Macaulay2/Style/katex/contrib/auto-render.min.js"></script>
    <script defer="defer" type="text/javascript">
      var macros = {
          "\\break": "\\\\",
          "\\ZZ": "\\mathbb{Z}",
          "\\NN": "\\mathbb{N}",
          "\\QQ": "\\mathbb{Q}",
          "\\RR": "\\mathbb{R}",
          "\\CC": "\\mathbb{C}",
          "\\PP": "\\mathbb{P}"
      }, delimiters = [
          { left: "$$",  right: "$$",  display: true},
          { left: "\\[", right: "\\]", display: true},
          { left: "$",   right: "$",   display: false},
          { left: "\\(", right: "\\)", display: false}
      ], ignoredTags = ["tt", "script", "noscript", "style", "textarea", "pre", "code", "option"];
      document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, { delimiters: delimiters, macros: macros, ignoredTags: ignoredTags, trust: true });
      });
    </script>
    <style type="text/css">.katex { font-size: 1em; }</style>
    <link href="../../../../Macaulay2/Style/katex/contrib/copy-tex.min.css" rel="stylesheet" type="text/css" />
    <script defer="defer" type="text/javascript" src="../../../../Macaulay2/Style/katex/contrib/copy-tex.min.js"></script>
    <script defer="defer" type="text/javascript" src="../../../../Macaulay2/Style/katex/contrib/render-a11y-string.min.js"></script>
    <script type="text/javascript" src="../../../../Macaulay2/Style/highlight.js"></script>
  </head>
  <body>
    <table class="buttons">
      <tr>
<td>          <div>
<a href="_working_spwith_spmultiple_springs.html">next</a> | previous | <a href="_working_spwith_spmultiple_springs.html">forward</a> | <a href="_substitution_spand_spmaps_spbetween_springs.html">backward</a> | <a href="_substitution_spand_spmaps_spbetween_springs.html">up</a> | <a href="index.html">top</a> | <a href="master.html">index</a> | <a href="toc.html">toc</a> | <a href="http://macaulay2.com/">Macaulay2 website</a>          </div>
</td>      </tr>
    </table>
    <div>
<a title="Macaulay2 documentation" href="index.html">Macaulay2Doc</a> > <a href="_substitution_spand_spmaps_spbetween_springs.html">substitution and maps between rings</a> > <a title="substituting values for variables" href="_substitute.html">substitute</a>    </div>
    <hr/>
    <div>
      <h1>substitute -- substituting values for variables</h1>
      <div>
        <h2>Synopsis</h2>
        <ul>
          <li>
            <dl class="element">
              <dt>Usage: </dt>
              <dd><code class="language-macaulay2">substitute(f,v)</code></dd>
              <dd><code class="language-macaulay2">sub(f,v)</code></dd>
            </dl>
          </li>
          <li>
Inputs:            <ul>
              <li>
<span><tt>f</tt>, <span>a <a title="the class of all ring elements handled by the engine" href="___Ring__Element.html">ring element</a></span>, <span>a <a title="the class of all matrices" href="___Matrix.html">matrix</a></span>, <span>an <a title="the class of all ideals" href="___Ideal.html">ideal</a></span>, <span>a <a title="the class of all modules" href="___Module.html">module</a></span>, <span>a <a title="the class of all elements of free modules that are handled by the engine" href="___Vector.html">vector</a></span>, or <span>an <a title="the class of all expressions" href="___Expression.html">expression</a></span> over a ring <tt>R</tt></span>              </li>
              <li>
<span><tt>v</tt>, <span>a <a title="the class of all rings" href="___Ring.html">ring</a></span>, <span>a <a title="the class of all matrices" href="___Matrix.html">matrix</a></span>, <span>an <a title="the class of all key-value pairs K => V" href="___Option.html">option</a></span>, or <span>a <a title="the class of all lists -- {...}" href="___List.html">list</a></span> of <a title="the class of all key-value pairs K => V" href="___Option.html">options</a></span>              </li>
            </ul>
          </li>
          <li>
Outputs:            <ul>
              <li>
<span>An object of the same sort as <tt>f</tt>, obtained by substituting values for the variables in the ring <tt>R</tt> of <tt>f</tt> using <tt>v</tt>.</span>              </li>
            </ul>
          </li>
        </ul>
      </div>
      <div>
        <h2>Description</h2>
        <p>A convenient abbreviation for <a title="substituting values for variables" href="_substitute.html">substitute</a> is <tt>sub</tt>.</p>
This function allows you to substitute values for some variables.  There are three ways to describe the kind of substitution, depending on the second argument <tt>v</tt>.        <ul>
          <li>
give specific values for (some of) the variables.  An option <tt>x=>r</tt> specifies that a generator <tt>x</tt> should be replaced by the ring element <tt>r</tt>.  Generators not mentioned will be preserved.          </li>
          <li>
give a matrix, the entries determines the values of each of the variables          </li>
          <li>
give a ring, the effect will be to substitute variables with variables of the same name, into this new ring          </li>
        </ul>
        <table class="examples">
          <tr>
<td>              <pre><code class="language-macaulay2">i1 : A = QQ[a..f]; B = QQ[a..d]; C = ZZ/101[x,y];</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i4 : F = 3*a^2-b-d+101*c

       2
o4 = 3a  - b + 101c - d

o4 : B</code></pre>
</td>          </tr>
        </table>
The following line substitutes values for a and b, and the result is in the same ring <tt>B</tt> of <tt>F</tt>.        <table class="examples">
          <tr>
<td>              <pre><code class="language-macaulay2">i5 : sub(F, {a=>1, b=>b^4})

        4
o5 = - b  + 101c - d + 3

o5 : B</code></pre>
</td>          </tr>
        </table>
Substitute <tt>a</tt> by <tt>x</tt>, <tt>b</tt> by <tt>y</tt> and so on.  The result is a polynomial in the ring <tt>C</tt>.        <table class="examples">
          <tr>
<td>              <pre><code class="language-macaulay2">i6 : sub(F, matrix{{x,y,1,0}})

       2
o6 = 3x  - y

o6 : C</code></pre>
</td>          </tr>
        </table>
Using a ring as the second argument substitutes variables with the same name. The following produces the polynomial <tt>F</tt> in the rings <tt>A</tt> and <tt>D</tt>.        <table class="examples">
          <tr>
<td>              <pre><code class="language-macaulay2">i7 : sub(F, A)

       2
o7 = 3a  - b + 101c - d

o7 : A</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i8 : D = B/(a*b*c*d);</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i9 : sub(F,D)

       2
o9 = 3a  - b + 101c - d

o9 : D</code></pre>
</td>          </tr>
        </table>
If the values of all of the variables are in a different ring, then the result will be in that ring.        <table class="examples">
          <tr>
<td>              <pre><code class="language-macaulay2">i10 : use ring F;</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i11 : sub(F, {a=>1, b=>3, c=> 1, d=>13})

o11 = 88

o11 : QQ</code></pre>
</td>          </tr>
        </table>
If <tt>f</tt> is an ideal or a submodule of a free module over <tt>R</tt>, then substitution amounts to substitution in the matrix of generators of <tt>f</tt>.  This is not the same as tensor product!        <table class="examples">
          <tr>
<td>              <pre><code class="language-macaulay2">i12 : use B;</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i13 : M = image(vars B ++ vars B)

o13 = image | a b c d 0 0 0 0 |
            | 0 0 0 0 a b c d |

                              2
o13 : B-module, submodule of B</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i14 : N = substitute(M, {a=>b+c,c=>1})

o14 = image | b+c b 1 d 0   0 0 0 |
            | 0   0 0 0 b+c b 1 d |

                              2
o14 : B-module, submodule of B</code></pre>
</td>          </tr>
        </table>
Although we cannot use substitute directly on modules which are not submodules, here is a useful idiom for moving a cokernel module to another ring.  One must be careful though: the degrees of the generators might not be the desired ones.        <table class="examples">
          <tr>
<td>              <pre><code class="language-macaulay2">i15 : M' = prune M

o15 = cokernel {1} | -b 0  -c 0  0  -d 0  0  0  0  0  0  |
               {1} | a  -c 0  0  -d 0  0  0  0  0  0  0  |
               {1} | 0  b  a  -d 0  0  0  0  0  0  0  0  |
               {1} | 0  0  0  c  b  a  0  0  0  0  0  0  |
               {1} | 0  0  0  0  0  0  -b 0  -c 0  0  -d |
               {1} | 0  0  0  0  0  0  a  -c 0  0  -d 0  |
               {1} | 0  0  0  0  0  0  0  b  a  -d 0  0  |
               {1} | 0  0  0  0  0  0  0  0  0  c  b  a  |

                             8
o15 : B-module, quotient of B</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i16 : N' = coker substitute(presentation M', {a=>b+c,c=>1})

o16 = cokernel {1} | -b  0  -1  0  0  -d  0   0  0   0  0  0   |
               {1} | b+c -1 0   0  -d 0   0   0  0   0  0  0   |
               {1} | 0   b  b+c -d 0  0   0   0  0   0  0  0   |
               {1} | 0   0  0   1  b  b+c 0   0  0   0  0  0   |
               {1} | 0   0  0   0  0  0   -b  0  -1  0  0  -d  |
               {1} | 0   0  0   0  0  0   b+c -1 0   0  -d 0   |
               {1} | 0   0  0   0  0  0   0   b  b+c -d 0  0   |
               {1} | 0   0  0   0  0  0   0   0  0   1  b  b+c |

                             8
o16 : B-module, quotient of B</code></pre>
</td>          </tr>
        </table>
Unevaluated expressions (i.e. from <a title="compute the Hilbert series" href="_hilbert__Series.html">hilbertSeries</a>) may also have variables substituted in all of the ways mentioned so far.        <table class="examples">
          <tr>
<td>              <pre><code class="language-macaulay2">i17 : hf = hilbertSeries coker matrix{{a,b^3,d^5}}

               3    4    5    6    8    9
      1 - T - T  + T  - T  + T  + T  - T
o17 = -----------------------------------
                           4
                    (1 - T)

o17 : Expression of class Divide</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i18 : hf1 = reduceHilbert hf

                 2     3     4     5    6
      1 + 2T + 3T  + 3T  + 3T  + 2T  + T
o18 = -----------------------------------
                    (1 - T)

o18 : Expression of class Divide</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i19 : use ring numerator hf;</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i20 : sub(hf1, T => -1)

      1
o20 = -
      2

o20 : Expression of class Divide</code></pre>
</td>          </tr>
        </table>
Of course, we can change the ring too:        <table class="examples">
          <tr>
<td>              <pre><code class="language-macaulay2">i21 : sub(hf, T => a)

         9    8    6    5    4    3
      - a  + a  + a  - a  + a  - a  - a + 1
o21 = -------------------------------------
                             4
                    (- a + 1)

o21 : Expression of class Divide</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i22 : value oo

         6     5     4     3     2
      - a  - 2a  - 3a  - 3a  - 3a  - 2a - 1
o22 = -------------------------------------
                      a - 1

o22 : frac B</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i23 : oo == value sub(hf1, T=>a)

o23 = true</code></pre>
</td>          </tr>
        </table>
        <p>If you plan on using the same substitution over and over, it is wise to create a ring map that will perform the same substitution.</p>
        <p>For example, in the first example above, we can make <span>a <a title="the class of all ring maps" href="___Ring__Map.html">ring map</a></span> <tt>G</tt>, and then apply it to <tt>F</tt>.</p>
        <table class="examples">
          <tr>
<td>              <pre><code class="language-macaulay2">i24 : use B;</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i25 : G = map(B,B,{a=>1, b=>b^4})

                      4
o25 = map (B, B, {1, b , c, d})

o25 : RingMap B &lt;--- B</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i26 : G F

         4
o26 = - b  + 101c - d + 3

o26 : B</code></pre>
</td>          </tr>
        </table>
      </div>
      <div>
        <h2>Caveat</h2>
The specified substitution is not checked to see whether the corresponding ring homomorphism is well-defined; this may produce surprising results, especially if rational coefficients are converted to integer coefficients.      </div>
      <div>
        <h2>See also</h2>
        <ul>
          <li>
<span><a title="the class of all ring maps" href="___Ring__Map.html">RingMap</a> -- the class of all ring maps</span>          </li>
          <li>
<span><a title="compute the Hilbert series" href="_hilbert__Series.html">hilbertSeries</a> -- compute the Hilbert series</span>          </li>
          <li>
<span><a title="evaluate" href="_value.html">value</a> -- evaluate</span>          </li>
          <li>
<span><a title="the class of all expressions" href="___Expression.html">Expression</a> -- the class of all expressions</span>          </li>
        </ul>
      </div>
      <div class="waystouse">
        <h2>Ways to use <tt>substitute</tt> :</h2>
        <ul>
          <li>
<tt>&quot;substitute(Divide,Thing)&quot;</tt>          </li>
          <li>
<tt>&quot;substitute(Ideal,List)&quot;</tt>          </li>
          <li>
<tt>&quot;substitute(Ideal,Matrix)&quot;</tt>          </li>
          <li>
<tt>&quot;substitute(Ideal,Option)&quot;</tt>          </li>
          <li>
<tt>&quot;substitute(Ideal,Ring)&quot;</tt>          </li>
          <li>
<tt>&quot;substitute(Ideal,RingFamily)&quot;</tt>          </li>
          <li>
<tt>&quot;substitute(Matrix,List)&quot;</tt>          </li>
          <li>
<tt>&quot;substitute(Matrix,Matrix)&quot;</tt>          </li>
          <li>
<tt>&quot;substitute(Matrix,Option)&quot;</tt>          </li>
          <li>
<tt>&quot;substitute(Matrix,Ring)&quot;</tt>          </li>
          <li>
<tt>&quot;substitute(Matrix,RingFamily)&quot;</tt>          </li>
          <li>
<tt>&quot;substitute(Matrix,ZZ)&quot;</tt>          </li>
          <li>
<tt>&quot;substitute(Module,List)&quot;</tt>          </li>
          <li>
<tt>&quot;substitute(Module,Matrix)&quot;</tt>          </li>
          <li>
<tt>&quot;substitute(Module,Option)&quot;</tt>          </li>
          <li>
<tt>&quot;substitute(Module,Ring)&quot;</tt>          </li>
          <li>
<tt>&quot;substitute(Module,RingFamily)&quot;</tt>          </li>
          <li>
<tt>&quot;substitute(Number,Ring)&quot;</tt>          </li>
          <li>
<tt>&quot;substitute(Number,RingFamily)&quot;</tt>          </li>
          <li>
<tt>&quot;substitute(Power,Thing)&quot;</tt>          </li>
          <li>
<tt>&quot;substitute(Product,Thing)&quot;</tt>          </li>
          <li>
<tt>&quot;substitute(RingElement,List)&quot;</tt>          </li>
          <li>
<tt>&quot;substitute(RingElement,Matrix)&quot;</tt>          </li>
          <li>
<tt>&quot;substitute(RingElement,Option)&quot;</tt>          </li>
          <li>
<tt>&quot;substitute(RingElement,Ring)&quot;</tt>          </li>
          <li>
<tt>&quot;substitute(RingElement,RingFamily)&quot;</tt>          </li>
          <li>
<tt>&quot;substitute(Sum,Thing)&quot;</tt>          </li>
          <li>
<tt>&quot;substitute(Vector,List)&quot;</tt>          </li>
          <li>
<tt>&quot;substitute(Vector,Matrix)&quot;</tt>          </li>
          <li>
<tt>&quot;substitute(Vector,Option)&quot;</tt>          </li>
          <li>
<tt>&quot;substitute(Vector,Ring)&quot;</tt>          </li>
          <li>
<tt>&quot;substitute(Vector,RingFamily)&quot;</tt>          </li>
        </ul>
      </div>
      <div class="waystouse">
        <h2>For the programmer</h2>
        <p>The object <a title="substituting values for variables" href="_substitute.html">substitute</a> is <span>a <a title="a type of method function" href="___Method__Function.html">method function</a></span>.</p>
      </div>
    </div>
  </body>

</html>
