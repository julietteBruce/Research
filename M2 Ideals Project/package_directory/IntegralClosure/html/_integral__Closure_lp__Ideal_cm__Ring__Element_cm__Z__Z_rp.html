<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0 plus SVG 1.1//EN" "http://www.w3.org/2002/04/xhtml-math-svg/xhtml-math-svg.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
  <head>
    <title>integralClosure(Ideal,RingElement,ZZ) -- integral closure of an ideal in an affine domain</title>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <link type="text/css" rel="stylesheet" href="../../../../Macaulay2/Style/doc.css"/>

    <link rel="stylesheet" href="../../../../Macaulay2/Style/katex/katex.min.css" />
    <script defer="defer" type="text/javascript" src="../../../../Macaulay2/Style/katex/katex.min.js"></script>
    <script defer="defer" type="text/javascript" src="../../../../Macaulay2/Style/katex/contrib/auto-render.min.js"></script>
    <script defer="defer" type="text/javascript">
      var macros = {
          "\\break": "\\\\",
          "\\ZZ": "\\mathbb{Z}",
          "\\NN": "\\mathbb{N}",
          "\\QQ": "\\mathbb{Q}",
          "\\RR": "\\mathbb{R}",
          "\\CC": "\\mathbb{C}",
          "\\PP": "\\mathbb{P}"
      }, delimiters = [
          { left: "$$",  right: "$$",  display: true},
          { left: "\\[", right: "\\]", display: true},
          { left: "$",   right: "$",   display: false},
          { left: "\\(", right: "\\)", display: false}
      ], ignoredTags = ["tt", "script", "noscript", "style", "textarea", "pre", "code", "option"];
      document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, { delimiters: delimiters, macros: macros, ignoredTags: ignoredTags, trust: true });
      });
    </script>
    <style type="text/css">.katex { font-size: 1em; }</style>
    <link href="../../../../Macaulay2/Style/katex/contrib/copy-tex.min.css" rel="stylesheet" type="text/css" />
    <script defer="defer" type="text/javascript" src="../../../../Macaulay2/Style/katex/contrib/copy-tex.min.js"></script>
    <script defer="defer" type="text/javascript" src="../../../../Macaulay2/Style/katex/contrib/render-a11y-string.min.js"></script>
    <script type="text/javascript" src="../../../../Macaulay2/Style/highlight.js"></script>
  </head>
  <body>
    <table class="buttons">
      <tr>
<td>          <div>
<a href="_integral__Closure_lp__Ring_rp.html">next</a> | <a href="_integral__Closure_lp..._cm__Verbosity_eq_gt..._rp.html">previous</a> | <a href="_integral__Closure_lp__Ring_rp.html">forward</a> | <a href="_integral__Closure_lp..._cm__Verbosity_eq_gt..._rp.html">backward</a> | up | <a href="index.html">top</a> | <a href="master.html">index</a> | <a href="toc.html">toc</a> | <a href="http://macaulay2.com/">Macaulay2 website</a>          </div>
</td>      </tr>
    </table>
    <div>
<a title="routines for integral closure of affine domains and ideals" href="index.html">IntegralClosure</a> :: <a title="integral closure of an ideal in an affine domain" href="_integral__Closure_lp__Ideal_cm__Ring__Element_cm__Z__Z_rp.html">integralClosure(Ideal,RingElement,ZZ)</a>    </div>
    <hr/>
    <div>
      <h1>integralClosure(Ideal,RingElement,ZZ) -- integral closure of an ideal in an affine domain</h1>
      <div>
        <h2>Synopsis</h2>
        <ul>
          <li>
<span>Function: <a title="integral closure of an ideal or a domain" href="_integral__Closure.html">integralClosure</a></span>          </li>
          <li>
            <dl class="element">
              <dt>Usage: </dt>
              <dd><code class="language-macaulay2">integralClosure J</code></dd>
              <dd><code class="language-macaulay2">integralClosure(J, d)</code></dd>
              <dd><code class="language-macaulay2">integralClosure(J, f)</code></dd>
              <dd><code class="language-macaulay2">integralClosure(J, f, d)</code></dd>
            </dl>
          </li>
          <li>
Inputs:            <ul>
              <li>
<span><tt>J</tt>, <span>an <a title="the class of all ideals" href="../../Macaulay2Doc/html/___Ideal.html">ideal</a></span>, </span>              </li>
              <li>
<span><tt>f</tt>, <span>a <a title="the class of all ring elements handled by the engine" href="../../Macaulay2Doc/html/___Ring__Element.html">ring element</a></span>, optional, an element of J which is a nonzerodivisor in the ring of J. If not give, the first generator of <tt>J</tt> is used</span>              </li>
              <li>
<span><tt>d</tt>, <span>an <a title="the class of all integers" href="../../Macaulay2Doc/html/___Z__Z.html">integer</a></span>, optional, default value 1</span>              </li>
            </ul>
          </li>
          <li>
<a href="../../Macaulay2Doc/html/_using_spfunctions_spwith_spoptional_spinputs.html">Optional inputs</a>:            <ul>
              <li>
<span><a title="list ring generators which should not be simplified away" href="_integral__Closure_lp..._cm__Keep_eq_gt..._rp.html">Keep</a><tt> => </tt><span>a <a title="the class of all lists -- {...}" href="../../Macaulay2Doc/html/___List.html">list</a></span>, <span>default value null</span>, unused</span>              </li>
              <li>
<span><a title="do a partial integral closure" href="_integral__Closure_lp..._cm__Limit_eq_gt..._rp.html">Limit</a><tt> => </tt><span>an <a title="the class of all integers" href="../../Macaulay2Doc/html/___Z__Z.html">integer</a></span>, <span>default value infinity</span>, unused</span>              </li>
              <li>
<span><a title="set the base letter for the indexed variables introduced while computing the integral closure" href="_integral__Closure_lp..._cm__Variable_eq_gt..._rp.html">Variable</a><tt> => </tt><span>a <a title="the class of all symbols" href="../../Macaulay2Doc/html/___Symbol.html">symbol</a></span>, <span>default value &quot;w&quot;</span>, symbol used for new variables</span>              </li>
              <li>
<span><a title="display a certain amount of detail about the computation" href="_integral__Closure_lp..._cm__Verbosity_eq_gt..._rp.html">Verbosity</a><tt> => </tt><span>an <a title="the class of all integers" href="../../Macaulay2Doc/html/___Z__Z.html">integer</a></span>, <span>default value 0</span>, display a certain amount of detail about the computation</span>              </li>
              <li>
<span><a title="control the algorithm used" href="_integral__Closure_lp..._cm__Strategy_eq_gt..._rp.html">Strategy</a><tt> => </tt><span>a <a title="the class of all lists -- {...}" href="../../Macaulay2Doc/html/___List.html">list</a></span>, <span>default value {}</span>, of some of the symbols: AllCodimensions, SimplifyFractions, Radical, RadicalCodim1, Vasconcelos. These are passed on to the computation of the integral closure of the Rees algebra of <tt>J</tt></span>              </li>
            </ul>
          </li>
          <li>
Outputs:            <ul>
              <li>
<span><span>an <a title="the class of all ideals" href="../../Macaulay2Doc/html/___Ideal.html">ideal</a></span>, the integral closure of $J^d$</span>              </li>
            </ul>
          </li>
        </ul>
      </div>
      <div>
        <h2>Description</h2>
        <div>
          <p>The method used is described in Vasconcelos' book, <em>Computational methods in commutative algebra and algebraic geometry</em>, Springer, section 6.6.  Basically, one first computes the integral closure of the Rees Algebra of the ideal, and then one reads off the integral closure of any of the powers of the ideal, using linear algebra.</p>
        </div>
        <table class="examples">
          <tr>
<td>              <pre><code class="language-macaulay2">i1 : S = ZZ/32003[a,b,c];</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i2 : F = a^2*b^2*c+a^3+b^3+c^3

      2 2     3    3    3
o2 = a b c + a  + b  + c

o2 : S</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i3 : J = ideal jacobian ideal F

                2      2    2        2   2 2     2
o3 = ideal (2a*b c + 3a , 2a b*c + 3b , a b  + 3c )

o3 : Ideal of S</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i4 : time integralClosure J
     -- used 1.02573 seconds

             2 2              2 2                2          2   2     
o4 = ideal (b c  - 16000a*c, a c  - 16000b*c, a*b c - 16000a , a b*c -
     ------------------------------------------------------------------------
           2   3               2 2     2   5
     16000b , a c - 16000a*b, a b  + 3c , a b + 15997a*c)

o4 : Ideal of S</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i5 : time integralClosure(J, Strategy=>{RadicalCodim1})
     -- used 0.741747 seconds

             2 2              2 2                2          2   2     
o5 = ideal (b c  - 16000a*c, a c  - 16000b*c, a*b c - 16000a , a b*c -
     ------------------------------------------------------------------------
           2   3               2 2     2   5
     16000b , a c - 16000a*b, a b  + 3c , a b + 15997a*c)

o5 : Ideal of S</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i6 : J2' = integralClosure(J,2)

             5      2 4           3       3   2 3      2 4         4       3 
o6 = ideal (b c - 2b c  - 16000a*b  - 3a*c , a b c - 2a c  - 16000b  - 3b*c ,
     ------------------------------------------------------------------------
      3 2     5          4           3   5     2 3          3          4 
     a b c - b c - 16000a  + 16000a*b , a c - a b c - 16000a b + 16000b ,
     ------------------------------------------------------------------------
          6         2 2 2         3          3         4   2 2 4         3 3
     a*b*c  - 16000a b c  - 12000a c - 12000b c - 8003c , a b c  - 16000a c 
     ------------------------------------------------------------------------
             3 3            2   2 3 3         3   2         4 2          2  
     - 16000b c  + 8003a*b*c , a b c  - 16000a b*c  - 16000b c  + 8003a*b c,
     ------------------------------------------------------------------------
      3 2 3         4 2           3 2        2      4   3     2 2 2  
     a b c  - 16000a c  - 16000a*b c  + 8003a b*c, a b*c  + 3a b c  +
     ------------------------------------------------------------------------
          3    2 4 2     3 2         4   3 3 2         4              4   
     8003b c, a b c  + 3a b c + 8003a , a b c  - 16000a b*c - 16000a*b c +
     ------------------------------------------------------------------------
          2 2   4 2 2     2 3         4   5   2     3 2           3   6 2  
     8003a b , a b c  + 3a b c + 8003b , a b*c  + 3a b c + 8003a*b , a c  +
     ------------------------------------------------------------------------
       4           2 2   3 4          4 2       2 3         2 2   4 3   
     3a b*c + 8003a b , a b c - 16000a b  + 3a*b c  - 15997a c , a b c -
     ------------------------------------------------------------------------
           2 4     2   3         2 2   5 2          3 3     3 3  
     16000a b  + 3a b*c  - 15997b c , a b c - 16000a b  + 3a c  -
     ------------------------------------------------------------------------
               2   4 4     2 2 2     4   7      2 2 2         3          3   
     15997a*b*c , a b  + 6a b c  + 9c , a b + 6a b c  + 15997a c - 15997b c +
     ------------------------------------------------------------------------
       4   8            4 2           3 2       5         2      7 3  
     9c , a b*c + 15988a c  + 15997a*b c  + 9a*c  + 15988a b*c, a b  +
     ------------------------------------------------------------------------
           5         4        3           3   10 2      4 2           5  
     15988b c + 8021a  - 27a*b  + 15988a*c , a  b  + 27a b  + 15988a*b  +
     ------------------------------------------------------------------------
          2 3        2 2
     27a*b c  - 7940a c )

o6 : Ideal of S</code></pre>
</td>          </tr>
        </table>
        <div>
          <p>Sometimes it is useful to give the specific nonzerodivisor $f$ in the ideal.</p>
        </div>
        <table class="examples">
          <tr>
<td>              <pre><code class="language-macaulay2">i7 : assert(integralClosure(J, J_2, 2) == J2')</code></pre>
</td>          </tr>
        </table>
      </div>
      <div>
        <h2>Caveat</h2>
        <div>
          <p>It is usually much faster to use <tt>integralClosure(J,d)</tt> rather than <tt>integralClosure(J^d)</tt>. Also, the element <tt>f</tt> (or the first generator of <tt>J</tt>, if <tt>f</tt> is not given) must be a nonzero divisor in the ring. This is not checked.</p>
        </div>
      </div>
      <div>
        <h2>See also</h2>
        <ul>
          <li>
<span><a title="compute the integral closure (normalization) of an affine domain" href="_integral__Closure_lp__Ring_rp.html">integralClosure(Ring)</a> -- compute the integral closure (normalization) of an affine domain</span>          </li>
          <li>
<span><a title="Compute the defining ideal of the Rees Algebra" href="../../ReesAlgebra/html/_rees__Algebra.html">reesAlgebra</a> -- Compute the defining ideal of the Rees Algebra</span>          </li>
          <li>
<span><a title="tests a conjecture on integral closures strengthening the Eisenbud-Mazur conjecture" href="_test__Huneke__Question.html">testHunekeQuestion</a> -- tests a conjecture on integral closures strengthening the Eisenbud-Mazur conjecture</span>          </li>
        </ul>
      </div>
      <div class="waystouse">
        <h2>Ways to use this method:</h2>
        <ul>
          <li>
<tt>&quot;integralClosure(Ideal)&quot;</tt>          </li>
          <li>
<tt>&quot;integralClosure(Ideal,RingElement)&quot;</tt>          </li>
          <li>
<span><a title="integral closure of an ideal in an affine domain" href="_integral__Closure_lp__Ideal_cm__Ring__Element_cm__Z__Z_rp.html">integralClosure(Ideal,RingElement,ZZ)</a> -- integral closure of an ideal in an affine domain</span>          </li>
          <li>
<tt>&quot;integralClosure(Ideal,ZZ)&quot;</tt>          </li>
        </ul>
      </div>
    </div>
  </body>

</html>
