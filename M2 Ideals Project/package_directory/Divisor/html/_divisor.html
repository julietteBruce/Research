<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0 plus SVG 1.1//EN" "http://www.w3.org/2002/04/xhtml-math-svg/xhtml-math-svg.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
  <head>
    <title>divisor -- constructor for (Weil/Q/R)-divisors</title>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    <link type="text/css" rel="stylesheet" href="../../../../Macaulay2/Style/doc.css"/>

    <link rel="stylesheet" href="../../../../Macaulay2/Style/katex/katex.min.css" />
    <script defer="defer" type="text/javascript" src="../../../../Macaulay2/Style/katex/katex.min.js"></script>
    <script defer="defer" type="text/javascript" src="../../../../Macaulay2/Style/katex/contrib/auto-render.min.js"></script>
    <script defer="defer" type="text/javascript">
      var macros = {
          "\\break": "\\\\",
          "\\ZZ": "\\mathbb{Z}",
          "\\NN": "\\mathbb{N}",
          "\\QQ": "\\mathbb{Q}",
          "\\RR": "\\mathbb{R}",
          "\\CC": "\\mathbb{C}",
          "\\PP": "\\mathbb{P}"
      }, delimiters = [
          { left: "$$",  right: "$$",  display: true},
          { left: "\\[", right: "\\]", display: true},
          { left: "$",   right: "$",   display: false},
          { left: "\\(", right: "\\)", display: false}
      ], ignoredTags = ["tt", "script", "noscript", "style", "textarea", "pre", "code", "option"];
      document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, { delimiters: delimiters, macros: macros, ignoredTags: ignoredTags, trust: true });
      });
    </script>
    <style type="text/css">.katex { font-size: 1em; }</style>
    <link href="../../../../Macaulay2/Style/katex/contrib/copy-tex.min.css" rel="stylesheet" type="text/css" />
    <script defer="defer" type="text/javascript" src="../../../../Macaulay2/Style/katex/contrib/copy-tex.min.js"></script>
    <script defer="defer" type="text/javascript" src="../../../../Macaulay2/Style/katex/contrib/render-a11y-string.min.js"></script>
    <script type="text/javascript" src="../../../../Macaulay2/Style/highlight.js"></script>
  </head>
  <body>
    <table class="buttons">
      <tr>
<td>          <div>
<a href="_dualize.html">next</a> | <a href="___Coefficient__Type.html">previous</a> | <a href="_dualize.html">forward</a> | <a href="___Coefficient__Type.html">backward</a> | up | <a href="index.html">top</a> | <a href="master.html">index</a> | <a href="toc.html">toc</a> | <a href="http://macaulay2.com/">Macaulay2 website</a>          </div>
</td>      </tr>
    </table>
    <div>
<a title="divisors" href="index.html">Divisor</a> :: <a title="constructor for (Weil/Q/R)-divisors" href="_divisor.html">divisor</a>    </div>
    <hr/>
    <div>
      <h1>divisor -- constructor for (Weil/Q/R)-divisors</h1>
      <div>
        <h2>Synopsis</h2>
        <ul>
          <li>
            <dl class="element">
              <dt>Usage: </dt>
              <dd><code class="language-macaulay2">divisor(l1, l2)</code></dd>
              <dd><code class="language-macaulay2">divisor( l3)</code></dd>
              <dd><code class="language-macaulay2">divisor( I )</code></dd>
              <dd><code class="language-macaulay2">divisor( f )</code></dd>
              <dd><code class="language-macaulay2">divisor( M )</code></dd>
              <dd><code class="language-macaulay2">divisor( Mat )</code></dd>
            </dl>
          </li>
          <li>
Inputs:            <ul>
              <li>
<span><tt>l1</tt>, <span>a <a title="the class of all basic lists" href="../../Macaulay2Doc/html/___Basic__List.html">basic list</a></span>, which describes the list of coefficients in integers</span>              </li>
              <li>
<span><tt>l2</tt>, <span>a <a title="the class of all basic lists" href="../../Macaulay2Doc/html/___Basic__List.html">basic list</a></span>, which describes the list of height one prime ideals that corresponds to codimension one irreducible subspaces</span>              </li>
              <li>
<span><tt>l3</tt>, <span>a <a title="the class of all basic lists" href="../../Macaulay2Doc/html/___Basic__List.html">basic list</a></span>, a list of pairs {c, P} where c is a coefficient and P is a prime ideal</span>              </li>
              <li>
<span><tt>I</tt>, <span>an <a title="the class of all ideals" href="../../Macaulay2Doc/html/___Ideal.html">ideal</a></span>, construct a divisor out of the vanishing locus of I</span>              </li>
              <li>
<span><tt>f</tt>, <span>a <a title="the class of all ring elements handled by the engine" href="../../Macaulay2Doc/html/___Ring__Element.html">ring element</a></span>, construct a divisor out of the vanishing locus of ideal(f)</span>              </li>
              <li>
<span><tt>M</tt>, <span>a <a title="the class of all modules" href="../../Macaulay2Doc/html/___Module.html">module</a></span>, construct a divisor such that O(D) is isomorphic to M</span>              </li>
              <li>
<span><tt>Mat</tt>, <span>a <a title="the class of all matrices" href="../../Macaulay2Doc/html/___Matrix.html">matrix</a></span>, a matrix, construct an effective divisor such that O(D) is isomorphic to the target of Mat based on the section</span>              </li>
            </ul>
          </li>
          <li>
<a href="../../Macaulay2Doc/html/_using_spfunctions_spwith_spoptional_spinputs.html">Optional inputs</a>:            <ul>
              <li>
<span><tt>CoefficientType</tt><tt> => </tt><span>an <a title="the class of all integers" href="../../Macaulay2Doc/html/___Z__Z.html">integer</a></span>, <span>default value ZZ</span>, specify the coefficients of your divisor</span>              </li>
              <li>
<span><tt>AmbientRing</tt><tt> => </tt><span>a <a title="the class of all rings" href="../../Macaulay2Doc/html/___Ring.html">ring</a></span>, <span>default value null</span>, specify the ambient ring in the divisor constructor</span>              </li>
              <li>
<span><tt>Section</tt><tt> => </tt><span>a <a title="the class of all ring elements handled by the engine" href="../../Macaulay2Doc/html/___Ring__Element.html">ring element</a></span>, <span>default value null</span>, specify a global section of the ideal I used to construct an effective divisor</span>              </li>
              <li>
<span><tt>Section</tt><tt> => </tt><span>a <a title="the class of all matrices" href="../../Macaulay2Doc/html/___Matrix.html">matrix</a></span>, <span>default value null</span>, specify a global section of a module M used to construct an effective divisor</span>              </li>
              <li>
<span><tt>IsGraded</tt><tt> => </tt><span>a <a title="the class of Boolean values" href="../../Macaulay2Doc/html/___Boolean.html">Boolean value</a></span>, <span>default value false</span>, specify a that a divisor constructed from a module should view the module as a graded object</span>              </li>
            </ul>
          </li>
          <li>
Outputs:            <ul>
              <li>
<span><span>an instance of the type <a title="the Types of divisors" href="___Basic__Divisor.html">BasicDivisor</a></span>, </span>              </li>
            </ul>
          </li>
        </ul>
      </div>
      <div>
        <h2>Description</h2>
        <div>
          <p>This is the general function for constructing divisors.  There are many ways to call it.  In our first example, we construct divisors on $A^3$ (which can also be viewed as divisors on $P^2$ since the ideals are homogeneous).  The following creates the same Weil divisor with coefficients 1, 2 and 3 in five different ways.</p>
        </div>
        <table class="examples">
          <tr>
<td>              <pre><code class="language-macaulay2">i1 : R = QQ[x,y,z];</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i2 : D = divisor({1,2,3}, {ideal(x), ideal(y), ideal(z)})

o2 = Div(x) + 2*Div(y) + 3*Div(z)

o2 : WeilDivisor on R</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i3 : E = divisor(x*y^2*z^3)

o3 = Div(x) + 2*Div(y) + 3*Div(z)

o3 : WeilDivisor on R</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i4 : F = divisor(ideal(x*y^2*z^3))

o4 = Div(x) + 2*Div(y) + 3*Div(z)

o4 : WeilDivisor on R</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i5 : G = divisor({{1, ideal(x)}, {2, ideal(y)}, {3, ideal(z)}})

o5 = Div(x) + 2*Div(y) + 3*Div(z)

o5 : WeilDivisor on R</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i6 : H = divisor(x) + 2*divisor(y) + 3*divisor(z)

o6 = Div(x) + 2*Div(y) + 3*Div(z)

o6 : WeilDivisor on R</code></pre>
</td>          </tr>
        </table>
        <div>
          <p>Next we construct the same divisor in two different ways.  We are working on the quadric cone, and we are working with a divisor of a ruling of the cone.  This divisor is not Cartier, but 2 times it is.</p>
        </div>
        <table class="examples">
          <tr>
<td>              <pre><code class="language-macaulay2">i7 : R = QQ[x,y,z]/ideal(x^2-y*z);</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i8 : D = divisor({2}, {ideal(x,y)})

o8 = 2*Div(x, y)

o8 : WeilDivisor on R</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i9 : E = divisor(y)

o9 = 2*Div(y, x)

o9 : WeilDivisor on R</code></pre>
</td>          </tr>
        </table>
        <div>
          <p>Here is a similar example in a slightly more complicated Veronese ring.</p>
        </div>
        <table class="examples">
          <tr>
<td>              <pre><code class="language-macaulay2">i10 : R = QQ[x,y,z];</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i11 : S = QQ[x3,x2y, x2z, xy2, xyz, xz2, y3, y2z, yz2, z3];</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i12 : f = map(R, S, {x^3, x^2*y, x^2*z, x*y^2, x*y*z, x*z^2, y^3, y^2*z, y*z^2, z^3});

o12 : RingMap R &lt;--- S</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i13 : A = S/(ker f);</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i14 : D = divisor(x3)

o14 = 3*Div(xz2, xyz, xy2, x2z, x2y, x3)

o14 : WeilDivisor on A</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i15 : E = divisor(y2z)

o15 = 2*Div(yz2, y2z, y3, xyz, xy2, x2y) + Div(z3, yz2, y2z, xz2, xyz, x2z)

o15 : WeilDivisor on A</code></pre>
</td>          </tr>
        </table>
        <div>
          <p>We can construct a Q-divisor as well.  Here are two ways to do it (we work in $A^2$ this time).</p>
        </div>
        <table class="examples">
          <tr>
<td>              <pre><code class="language-macaulay2">i16 : R = ZZ/7[x,y];</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i17 : D = divisor({-1/2, 2/1}, {ideal(y^2-x^3), ideal(x)}, CoefficientType=>QQ)

o17 = -1/2*Div(-x^3+y^2) + 2*Div(x)

o17 : QWeilDivisor on R</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i18 : D = (-1/2)*divisor(y^2-x^3) + (2/1)*divisor(x)

o18 = -1/2*Div(-x^3+y^2) + 2*Div(x)

o18 : QWeilDivisor on R</code></pre>
</td>          </tr>
        </table>
        <div>
          <p>Or an R-divisor.  This time we work in the cone over $P^1 \times P^1$.</p>
        </div>
        <table class="examples">
          <tr>
<td>              <pre><code class="language-macaulay2">i19 : R = ZZ/11[x,y,u,v]/ideal(x*y-u*v);</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i20 : D = divisor({1.1, -3.14159}, {ideal(x,u), ideal(x, v)}, CoefficientType=>RR)

o20 = 1.1*Div(x, u) + -3.14159*Div(x, v)

o20 : RWeilDivisor on R</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i21 : D = 1.1*divisor(ideal(x,u)) - 3.14159*divisor(ideal(x,v))

o21 = 1.1*Div(x, u) + -3.14159*Div(x, v)

o21 : RWeilDivisor on R</code></pre>
</td>          </tr>
        </table>
        <div>
          <p>You can also pass it an element of the ring or even the fraction field.</p>
        </div>
        <table class="examples">
          <tr>
<td>              <pre><code class="language-macaulay2">i22 : R = QQ[x,y];</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i23 : divisor(x)

o23 = Div(x)

o23 : WeilDivisor on R</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i24 : divisor(x/y)

o24 = Div(x) + -Div(y)

o24 : WeilDivisor on R</code></pre>
</td>          </tr>
        </table>
        <div>
          <p>Given a rank 1 reflexive module <tt>M</tt>, <tt>divisor(M)</tt> finds a divisor $D$ such that $O(D)$ is isomorphic to <tt>M</tt>.  If <tt>IsGraded</tt> is <tt>true</tt> (it is <tt>false</tt> by default) this assumes we are working on the Proj of the ambient ring.</p>
        </div>
        <table class="examples">
          <tr>
<td>              <pre><code class="language-macaulay2">i25 : R = QQ[x,y,z]/ideal(x^2-y*z);</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i26 : M = (ideal(y*x,y*z))*R^1;</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i27 : divisor(M)

o27 = -Div(z, x)

o27 : WeilDivisor on R</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i28 : divisor(M, IsGraded=>true)

o28 = -2*Div(z, x) + -Div(y, x)

o28 : WeilDivisor on R</code></pre>
</td>          </tr>
        </table>
        <div>
          <p>Finally, <tt>divisor(Matrix)</tt> assumes that the matrix is a map from a rank-1 free module to the module corresponding to $O(D)$.  In that case, this function returns the effective divisor corresponding to that section.  The same behavior can also be obtained by calling <tt>divisor(Module, Section=>Matrix)</tt> where the <tt>Matrix</tt> is a map from a rank-1 free module to <tt>M</tt>.  In the following example, we demonstrate this by considering a rank-1 module (on the cone of $P^1 \times P^1$), and considering the map from $R^1$ mapping to the first generator of the module.</p>
        </div>
        <table class="examples">
          <tr>
<td>              <pre><code class="language-macaulay2">i29 : R = QQ[x,y,u,v]/ideal(x*y-u*v);</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i30 : M = (ideal(x,u))*R^1;</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i31 : matr = map(M, R^1, {{1},{0}});

o31 : Matrix</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i32 : divisor(matr)

o32 = Div(v, x)

o32 : WeilDivisor on R</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i33 : divisor(M, Section=>matr)

o33 = Div(v, x)

o33 : WeilDivisor on R</code></pre>
</td>          </tr>
        </table>
        <div>
          <p>One can also obtain the same behavior (as <tt>divisor(Matrix)</tt>) by passing the divisor either an ideal or a module and then specifying a global section of that object (which will produce the corresponding effective divisor).  In particular, if the main argument in the divisor is an Ideal, the option <tt>Section=>f</tt> specifies that we should find the unique effective divisor $D$ such that I is isomorphic to $O(D)$ and such that <tt>f</tt> maps to 1 under that isomorphism.</p>
        </div>
        <table class="examples">
          <tr>
<td>              <pre><code class="language-macaulay2">i34 : R = QQ[x,y,u,v]/ideal(x*y-u*v)

o34 = R

o34 : QuotientRing</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i35 : D = divisor(ideal(x,u), Section=>x)

o35 = Div(v, x)

o35 : WeilDivisor on R</code></pre>
</td>          </tr>
        </table>
        <div>
          <p>Note if the section is not in $I$, then it is interpreted as a rational section and the produced divisor $D$ may not be effective.</p>
        </div>
        <div>
          <p>If the main argument in the divisor is a module, then the Matrix <tt>Mat</tt> should be a matrix mapping a free module to <tt>M</tt>.  In this case <tt>divisor</tt> constructs the unique effective divisor $D$ such that <tt>M</tt> is isomorphic to $O(D)$ and so that $1$ in the matrix map is mapped to $1$ in $O(D)$.</p>
        </div>
        <table class="examples">
          <tr>
<td>              <pre><code class="language-macaulay2">i36 : R = QQ[x];</code></pre>
</td>          </tr>
          <tr>
<td>              <pre><code class="language-macaulay2">i37 : D = divisor(R^1, Section=>matrix{{x^2}})

o37 = 2*Div(x)

o37 : WeilDivisor on R</code></pre>
</td>          </tr>
        </table>
      </div>
      <div class="waystouse">
        <h2>Ways to use <tt>divisor</tt> :</h2>
        <ul>
          <li>
<tt>&quot;divisor(BasicList)&quot;</tt>          </li>
          <li>
<tt>&quot;divisor(BasicList,BasicList)&quot;</tt>          </li>
          <li>
<tt>&quot;divisor(Ideal)&quot;</tt>          </li>
          <li>
<tt>&quot;divisor(Matrix)&quot;</tt>          </li>
          <li>
<tt>&quot;divisor(Module)&quot;</tt>          </li>
          <li>
<tt>&quot;divisor(RingElement)&quot;</tt>          </li>
        </ul>
      </div>
      <div class="waystouse">
        <h2>For the programmer</h2>
        <p>The object <a title="constructor for (Weil/Q/R)-divisors" href="_divisor.html">divisor</a> is <span>a <a title="a type of method function" href="../../Macaulay2Doc/html/___Method__Function__With__Options.html">method function with options</a></span>.</p>
      </div>
    </div>
  </body>

</html>
